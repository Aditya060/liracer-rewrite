(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{41:function(n,e,t){n.exports=t(76)},72:function(n,e){},76:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(34),i=t.n(o),c=t(39),u=t(3),l=t(1),s=t(2),d=t(35),g=t.n(d),m=t(40),p={layer0Background:"#fdf6e3",layer1Background:"#eee8d5",layer1Foreground:"#4d4a44",layer2Background:"#ded8c5",wrongCharColor:"#ba5d5d"};function f(){var n=Object(l.a)(["\n  height: calc(100% - ",");\n  background: ",";\n"]);return f=function(){return n},n}function b(){var n=Object(l.a)(["\n  height: ",";\n  background: ",";\n"]);return b=function(){return n},n}var h=s.a.div(b(),"30px",p.layer2Background),v=s.a.div(f(),"30px",p.layer1Background),y=function(n){var e=n.children;return a.a.createElement("div",null,a.a.createElement(h,null),a.a.createElement(v,null,e))};function k(){var n=Object(l.a)(["\n  flex-basis: 100%;\n  padding: 1rem;\n  color: ",";\n  // Copied from default React index.css\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return k=function(){return n},n}function E(){var n=Object(l.a)(["\n  // Make it easy to visually differentiate messages\n  padding-bottom: 7px;\n"]);return E=function(){return n},n}var j=s.a.div(E()),w=function(n){return a.a.createElement(j,null,a.a.createElement("b",null,"<",n.message.sender,">")," ",a.a.createElement("span",null,n.message.content))},O=s.a.div(k(),p.layer1Foreground),x=function(n){return a.a.createElement(O,null,n.messages.map((function(n,e){return a.a.createElement(w,{key:e,message:n})})))};function C(){var n=Object(l.a)(["\n  ","\n  height: 100%;\n  width: 100%;\n"]);return C=function(){return n},n}function S(){var n=Object(l.a)(["\n  border: calc(1em / 2) solid ",";\n  border-top: 0;\n  height: 40px;\n  box-sizing: border-box;\n  background: ",";\n"]);return S=function(){return n},n}function B(){var n=Object(l.a)(["\n  ","\n  width: 70px;\n  border: solid "," 0;\n"]);return B=function(){return n},n}function P(){var n=Object(l.a)(["\n  background: ",";\n  color: ",";\n  border: 0;\n  width: 100%;\n  padding: 0 3px 3px 0;\n  box-sizing: border-box;\n  outline: none;\n  border-right: 1em solid ",";\n"]);return P=function(){return n},n}function D(){var n=Object(l.a)(["\n  background: ",";\n  height: 50px;\n  display: flex;\n  padding: calc(1rem / 2);\n  box-sizing: border-box;\n"]);return D=function(){return n},n}function F(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]);return F=function(){return n},n}var I=s.a.div(F()),M=s.a.form(D(),p.layer2Background),z=s.a.input(P(),p.layer1Background,p.layer1Foreground,p.layer2Background),J="\n  :hover {\n    background: ".concat(p.layer2Background,";\n    color: ").concat(p.layer2Foreground,";\n  }\n  background: ").concat(p.layer1Background,";\n  color: ").concat(p.layer1Foreground,";\n  transition-duration: 0.12s;\n  font-weight: bold;\n  font-size: 14px;\n  padding: 0;\n  cursor: pointer;\n  border: 0;\n  border-radius: 5px;\n  outline: none;\n"),W=s.a.button(B(),J,p.layer2Background),G=s.a.div(S(),p.layer2Background,p.layer2Background),T=s.a.button(C(),J),U=function(n){return a.a.createElement(y,null,a.a.createElement(I,null,a.a.createElement(x,{messages:n.messages}),a.a.createElement(M,{onSubmit:n.handleSendMessage},a.a.createElement(z,{name:"input"}),a.a.createElement(W,null,"SEND")),a.a.createElement(G,null,a.a.createElement(T,{onClick:n.handleClickJoinGame},"JOIN GAME"))))};function N(){var n=Object(l.a)(["\n  padding: ",";\n  margin: 0;\n  color: ",";\n  outline: none;\n"]);return N=function(){return n},n}var R=s.a.pre(N(),"1rem",p.layer1Foreground),A=function(n){return a.a.createElement(y,null,n.snippet&&a.a.createElement(R,{onKeyDown:function(e){["Tab"].includes(e.key)&&e.preventDefault();var t,r=(t=e.key,["Shift","Meta","Alt","Control","Backspace"].includes(t)?null:"Enter"===t?"\n":"Tab"===t?"\t":t);r?0===n.wrongChars&&n.snippet.code[n.cursorPosition]===r?n.setCursorPosition(n.cursorPosition+1):n.setWrongChars(n.wrongChars+1):"Backspace"===e.key&&(n.wrongChars>0?n.setWrongChars(n.wrongChars-1):n.cursorPosition>0&&n.setCursorPosition(n.cursorPosition-1))},tabIndex:"0"},n.snippet.code.split("").map((function(e,t){var r=t===n.cursorPosition,o=n.wrongChars>0&&t===n.cursorPosition+n.wrongChars-1,i=t>=n.cursorPosition&&t<n.cursorPosition+n.wrongChars,c={};return n.wrongChars>0?i&&(c.background=p.wrongCharColor):r&&(c.background="rgb(207, 186, 165)"),"\n"===e&&(o||r&&!i)&&(e="\u21b5\n"),a.a.createElement("span",{key:t,style:c},e)}))))};function H(){var n=Object(l.a)(["\n// Consume the entire viewport\nposition: fixed;\ntop: 0;\nleft: 0;\nbottom: 0;\nright: 0;\noverflow: auto;\n\n// Use a grid layout\ndisplay: grid;\ngrid-template-columns: minmax(300px, 500px) minmax(750px, auto);\npadding: 2rem;\ncolumn-gap: 2rem;\n\n// Color\nbackground: ","\n"]);return H=function(){return n},n}var K=s.a.div(H(),p.layer0Background);var $=function(){var n=Object(r.useState)(),e=Object(u.a)(n,2),t=e[0],o=e[1],i=Object(r.useState)(),l=Object(u.a)(i,2),s=l[0],d=l[1],p=Object(r.useState)(),f=Object(u.a)(p,2),b=f[0],h=f[1],v=Object(r.useState)(),y=Object(u.a)(v,2),k=y[0],E=y[1],j=Object(r.useState)([]),w=Object(u.a)(j,2),O=w[0],x=w[1],C=Object(r.useState)(),S=Object(u.a)(C,2),B=S[0],P=S[1],D=function(n){return decodeURI(n.pathname).slice(1)};return window.onpopstate=function(n){var e=D(n.target.location);B.emit("join game",e),history.replaceState(void 0,void 0,e)},Object(r.useEffect)((function(){if(B)if("/"===window.location.pathname){var n=Math.random().toString(36).replace(/[^a-z]+/g,"");B.emit("join game",n),history.replaceState(void 0,void 0,n)}else{var e=D(window.location);B.emit("join game",e),history.pushState(void 0,void 0,e)}}),[B]),Object(r.useEffect)((function(){P(g()())}),[]),Object(r.useEffect)((function(){B&&(B.on("game state",(function(n){o(n.snippet),d(n.roundID),h(0),E(0)})),B.on("chat message",(function(n){x((function(e){return[].concat(Object(c.a)(e),[n])}))})))}),[B]),Object(r.useEffect)((function(){B&&void 0!==b&&B.emit("cursor position update",{position:b,roundID:s})}),[s,B,b]),Object(m.a)(window.navigator).any?a.a.createElement("div",null,a.a.createElement("h3",null,"This game is not playable on mobile devices"),a.a.createElement("p",null,"To play liracer, open it on a laptop or desktop computer.")):a.a.createElement(K,null,a.a.createElement(U,{messages:O,handleClickJoinGame:function(n){var e=prompt("GameID");null!==e&&""!==e&&(B.emit("join game",e),history.pushState(void 0,void 0,e))},handleSendMessage:function(n){n.preventDefault(),B.emit("chat message",n.target.input.value),n.target.input.value=""}}),a.a.createElement(A,{snippet:t,cursorPosition:b,setCursorPosition:h,wrongChars:k,setWrongChars:E}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.a9804467.chunk.js.map